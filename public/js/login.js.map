{"version":3,"sources":["login.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.js","sourcesContent":["$('form').on('submit', function (e) {\n    var formHeight, formWidth;\n    e.preventDefault();\n    formHeight = $('.login-form').height();\n    formWidth  = $('.login-form').width();\n    $('.login-form').addClass('hide');\n    $('.loader-wrapper').css({height: formHeight + 'px', width: formWidth + 'px'}).removeClass('hide');\n    $('.card-action .btn').addClass('disabled');\n\n    $.ajax({\n        url:      window.auth.doLoginUrl,\n        type:     'POST',\n        dataType: 'json',\n        data:     $('form').serialize(),\n        success:  function (data) {\n            console.info(data);\n            if (data.success) {\n                $('.login-card').addClass('green');\n                window.location.href = data.redirect;\n            }\n        },\n        error:    function (data) {\n            if (typeof data.responseJSON !== 'undefined') {\n                if (typeof data.responseJSON.success !== 'undefined') {\n                    Materialize.toast(data.responseJSON.error, 10000);\n                }\n                if (data.status == 403) {\n                    $('#password').addClass('invalid');\n                    $('#username').addClass('invalid');\n                }\n                if (typeof data.responseJSON.password !== 'undefined') {\n                    Materialize.toast(data.responseJSON.password[0], 10000);\n                    $('#password').addClass('invalid');\n                }\n                if (typeof data.responseJSON.username !== 'undefined') {\n                    Materialize.toast(data.responseJSON.username[0], 10000);\n                    $('#username').addClass('invalid');\n                }\n            } else {\n                if (data.status !== 200) {\n                    Materialize.toast(\"Unknown response: \" + data.status, 10000);\n                } else {\n                    $('.login-card').addClass('green');\n                    window.location.href = window.auth.homeUrl;\n                }\n            }\n            $('.card-action .btn').removeClass('disabled');\n            $('.login-form').removeClass('hide');\n            $('.loader-wrapper').addClass('hide');\n        }\n    });\n    return false;\n});"]}